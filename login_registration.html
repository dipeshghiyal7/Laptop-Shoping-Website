<!DOCTYPE html>
<html>
  <head>
    <title>Login</title>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet"/>
    <style>
      .error-message {color: red; font-size: 14px;}
      .invalid {border: 2px solid red;}
      body {margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: "Jost", sans-serif; background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);}
      #main {width: 380px; height: 500px; background: red; overflow: hidden; background: url("https://doc-08-2c-docs.googleusercontent.com/docs/securesc/68c90smiglihng9534mvqmq1946dmis5/fo0picsp1nhiucmc0l25s29respgpr4j/1631524275000/03522360960922298374/03522360960922298374/1Sx0jhdpEpnNIydS4rnN4kHSJtU1EyWka?e=view&authuser=0&nonce=gcrocepgbb17m&user=03522360960922298374&hash=tfhgbs86ka6divo3llbvp93mg4csvb38") no-repeat center/ cover; border-radius: 10px; box-shadow: 5px 20px 50px #000;}
      #chk {display: none;}
      #signup {position: relative; width: 100%; height: 100%;}
      label {color: #fff; font-size: 2.3em; justify-content: center; display: flex; margin: 60px; font-weight: bold; cursor: pointer; transition: 0.5s ease-in-out;}
      input {width: 60%; height: 20px; background: #e0dede; justify-content: center; display: flex; margin: 20px auto; padding: 10px; border: none; outline: none; border-radius: 5px;}
      button {width: 60%; height: 40px; margin: 10px auto; justify-content: center; display: block; color: #fff; background: #573b8a; font-size: 1em; font-weight: bold; margin-top: 20px; outline: none; border: none; border-radius: 5px; transition: 0.2s ease-in; cursor: pointer;}
      button:hover {background: #6d44b8;}
      #login {height: 475px; background: #eee; border-radius: 60% / 10%; transform: translateY(-180px); transition: 0.8s ease-in-out;}
      #login label {color: #573b8a; transform: scale(0.6);}
      #chk:checked ~ #login {transform: translateY(-570px);}
      #chk:checked ~ #login label {transform: scale(1);}
      #chk:checked ~ #signup label {transform: scale(0.6);}
      select {width: 60%; height: 40px; background: #e0dede; position: relative; right: -20%; text-align: center; margin: 0 auto; padding: 10px; border: none; outline: none; border-radius: 5px;}
    </style>
  </head>
  <body>
    <div id="main">
      <input type="checkbox" id="chk" aria-hidden="true" />
      <div id="signup">
        <form action="index.html" id="myForm">
          <label for="chk" aria-hidden="true">Sign up</label>
          <input type="text" name="txt" placeholder="User name" id="uname" />
          <div id="user-error" class="error-message" style="text-align: center"></div>
          <input type="email" name="email" placeholder="Email" id="email"/>
          <div id="email-error" class="error-message" style="text-align: center"></div>
          <input type="password" name="pswd" placeholder="Password" id="password"/>
          <div id="password-error" class="error-message" style="text-align: center"></div>
          <button>
            Sign up
          </button>
        </form>
      </div>
      <div id="login">
        <form id="myForm" action="index.html">
          <label for="chk" aria-hidden="true">Login</label>
          <input type="email" name="emaill" placeholder="Email" id="emaill" />
          <div id="email-errorl" class="error-message" style="text-align: center"></div>
          <input type="password" name="pswdl" placeholder="Password" id="passwordl"/>
          <div id="password-errorl" class="error-message" style="text-align: center"></div>
          <select name="user-type" id="user-type">
            <option value="User">User</option>
            <option value="Admin">Admin</option>
          </select>
          <button onclick="validateFormL()">
            Login
          </button>
        </form>
      </div>
    </div>
    <script>
      function submit(er, ei, pe, pi){
        if(er.test(ei) && pr.test(pi)){
          document.getElementById("myForm").submit();
        }
      }
      function validateForm() {
        const emailInput = document.getElementById("email");
        const passwordInput = document.getElementById("password");
        const emailError = document.getElementById("email-error");
        const passwordError = document.getElementById("password-error");
        const username = document.getElementById("uname");
        const uError = document.getElementById("user-error");
        // Validate email
        const emailRegex = /^\S+@\S+\.\S+$/;
        if (!emailInput.value) {
          emailError.innerText = "Please enter your email";
          emailInput.classList.add("invalid");
        } else if (!emailRegex.test(emailInput.value)) {
          emailError.innerText = "Please enter a valid email";
          emailInput.classList.add("invalid");
        } else {
          emailError.innerText = "";
          emailInput.classList.remove("invalid");
        }
        // Validate username
        if(!username.value){
          uError.innerText = "Please Enter a username";
          username.classList.add("invalid");
        } else {
          uError.innerText = "";
          username.classList.remove("invalid");
        }
        // Validate password
        const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,}$/;
        if (!passwordInput.value) {
          passwordError.innerText = "Please enter your password";
          passwordInput.classList.add("invalid");
        } else if (!passwordRegex.test(passwordInput.value)) {
          passwordError.innerText ="Password must contain at least 8 characters with at least one letter and one number";
          passwordInput.classList.add("invalid");
        } else {
          passwordError.innerText = "";
          passwordInput.classList.remove("invalid");
        }
        // Resize box
        const mainBox = document.getElementById("main");
        if(emailError.innerText){
          mainBox.style.height = "550px";
        } else if(passwordError.innerText){
          mainBox.style.height = "550px";
        } else if(emailError.innerText || passwordError.innerText){
          mainBox.style.height = "600px";
        } else{
          mainBox.style.height = "500px";
          submit(emailRegex, emailInput.value, passwordRegex, passwordInput.value);
        }
      }
      function validateFormL() {
        const emailInput = document.getElementById("emaill");
        const passwordInput = document.getElementById("passwordl");
        const emailError = document.getElementById("email-errorl");
        const passwordError = document.getElementById("password-errorl");

        // Validate email
        const emailRegex = /^\S+@\S+\.\S+$/;
        if (!emailInput.value) {
          emailError.innerText = "Please enter your email";
          emailInput.classList.add("invalid");
        } else if (!emailRegex.test(emailInput.value)) {
          emailError.innerText = "Please enter a valid email";
          emailInput.classList.add("invalid");
        } else {
          emailError.innerText = "";
          emailInput.classList.remove("invalid");
        }
        // Validate password
        const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,}$/;
        if (!passwordInput.value) {
          passwordError.innerText = "Please enter your password";
          passwordInput.classList.add("invalid");
        } else if (!passwordRegex.test(passwordInput.value)) {
          passwordError.innerText ="Password must contain at least 8 characters with at least one letter and one number";
          passwordInput.classList.add("invalid");
        } else {
          passwordError.innerText = "";
          passwordInput.classList.remove("invalid");
        }
        // Resize box
        const mainBox = document.getElementById("main");
        const loginBox = document.getElementById("login");
        if(emailError.innerText){
          mainBox.style.height = "550px";
          loginBox.style.height = "500px";
        } else if(passwordError.innerText){
          mainBox.style.height = "550px";
          loginBox.style.height = "500px";
        } else if(emailError.innerText && passwordError.innerText){
          mainBox.style.height = "600px";
          loginBox.style.height = "500px";
        } else {
          mainBox.style.height = "500px";
          loginBox.style.height = "460px";
          submit(emailRegex, emailInput.value, passwordRegex, passwordInput.value);
        }
      }
    </script>
  </body>
</html>
